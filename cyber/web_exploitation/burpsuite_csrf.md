# Burp Suite Installation and CSRF Attack Testing on bWAPP

## 1. Installing Burp Suite
To download and install Burp Suite Community Edition on Linux:

```sh
wget -O burpsuite.sh "https://portswigger.net/burp/releases/download?product=community&version=2024.1.1&type=Linux"
chmod +x burpsuite.sh
./burpsuite.sh
```

## 2. Configuring Firefox Proxy Settings

1. Open **Firefox**.
2. Navigate to **Settings** > **General** > **Network Settings** > **Manual proxy configuration**.
3. Set the proxy to:
   - **HTTP Proxy**: `127.0.0.1`
   - **Port**: `8080`
4. Check **"Use this proxy server for all protocols"**.
5. Click **OK**.

## 3. Importing Burp Suite's CA Certificate

1. In **Burp Suite**, go to **Proxy** > **Options**.
2. Click **Import / Export CA Certificate**.
3. Export the certificate in **DER format**.
4. Open **Firefox** > **Settings** > **Privacy & Security**.
5. Scroll down to **Certificates** and click **View Certificates**.
6. Import the downloaded **Burp CA certificate** and check **"Trust this CA to identify websites"**.

## 4. Changing `about:config` Setting
To allow proxy interception of `localhost` requests:

1. Open Firefox and go to `about:config`.
2. Search for `network.proxy.allow_hijacking_localhost`.
3. Set it to `true`.

## 5. Capturing and Resending a CSRF Attack in Burp Suite

1. **Navigating to bWAPP Change Password Page**
   - Open **bWAPP** in Firefox.
   - Go to **"Change Password"** page.

2. **Starting Burp Suite and Enabling Interception**
   - Open **Burp Suite**.
   - Go to **Proxy** > **Intercept**.
   - Ensure **"Intercept is ON"**.

3. **Capturing the Change Password Request**
   - Enter a **new password** in bWAPP.
   - Submit the form.
   - Burp Suite will intercept an **HTTP GET request** containing the new password.

4. **Sending the Request to Repeater**
   - In Burp Suite, right-click the captured request.
   - Select **"Send to Repeater"**.
   - Go to **Repeater** and click **"Send"** to manually resend the request.

5. **Verifying That the Attack Worked**
   - Close the bWAPP tab in Firefox.
   - Turn off **Intercept** in Burp Suite.
   - Reopen bWAPP and attempt to log in with the **new password**.
   - If successful, this proves that the **password change request was submitted outside of the bWAPP webpage**.



# Using Burp Suite to Access any Page Without Logging In

- Go to session management page in bWAPP while Burp Suite is running.
- In Burp Suite, go to Proxy->HTTP history and select the http request of the webpage just visited in bWAPP.
- Send the HTTP request to Repeater. 
- Within the request body, update Referer with the webpage you want to access and press Send.
- If the response is HTTP/1.1 200 OK then you succeeded.